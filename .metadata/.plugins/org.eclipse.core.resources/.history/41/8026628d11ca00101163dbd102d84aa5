package prodcons.v7;

import java.util.Random;

import prodcons.v5.IProdConsBuffer;

public class Producer extends Thread {
	
	private final TaskExecutor executor;
    private final int minProd, maxProd;
    private final int prodTime;

    public Producer(TaskExecutor executor, int minProd, int maxProd, int prodTime) {
        this.executor = executor;
    	this.minProd = minProd;
        this.maxProd = maxProd;
        this.prodTime = prodTime;
    }
    
    @Override
    public void run() {
        Random r = new Random();
        Random r = new Random();
        int count = r.nextInt(maxProd - minProd + 1) + minProd;

        for (int i = 0; i < taskCount; i++) {
            int id = i;

            try {
                executor.executeTask(() -> {
                    System.out.println("Executing task " + id + " by producer " + getId());
                });

                Thread.sleep(20 + r.nextInt(30));

            } catch (InterruptedException e) {}
        }
    }

}
