package prodcons.v7;

public class TaskExecutor {
	private final ProdConsBuffer buffer;
	private final int bufSz;
	private final int consTime;
	private int totmsg = 0;

    public TaskExecutor(int bufSz,int consTime) {
    	this.bufSz = bufSz;
        this.buffer = new ProdConsBuffer(bufSz);
        this.consTime = consTime;
    }
    
    public void executeTask(Runnable task) throws InterruptedException {

        Task tsk = new Task(Thread.currentThread().getId(),0,task);

        buffer.put(tsk);
        totmsg++;
        

        // New Consumer pour la Tache
        Consumer cons = new Consumer(buffer,consTime);
        cons.start();
    }

}
